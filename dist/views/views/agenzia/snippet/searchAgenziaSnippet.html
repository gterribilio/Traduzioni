<div class=row_shadow style="padding: 40px 0px 40px 0px">
  <form name=searchForm novalidate> 
    <div style=margin-left:30px>
      <h2>SEARCH</h2>
    </div>
    <div class=row_shadow>
      <div class="row form-group">
        
        <div ng-class="{ 'has-error' : searchForm.mothertongueSearchFrom.$invalid && !searchForm.mothertongueSearchFrom.$pristine }">
          <label class="col-xs-2 control-label text-right">From*</label>
						<span class=col-sm-2>
              <select class=form-control name=mothertongueSearchFrom ng-model=mothertongueSearchFrom required ng-options="mothertongueSearchFrom.DESCRIZIONE for mothertongueSearchFrom in languages"></select>
            </span>
        </div>
        
        <div ng-class="{ 'has-error' : searchForm.mothertongueSearchTo.$invalid && !searchForm.mothertongueSearchTo.$pristine }">

          <label class="col-xs-2 control-label text-right">To*</label>
						<span class=col-sm-2>
              <select class=form-control name=mothertongueSearchTo ng-model=mothertongueSearchTo required ng-options="mothertongueSearchTo.DESCRIZIONE for mothertongueSearchTo in languages"></select>
            </span>
        </div>
        
        <div ng-class="{ 'has-error' : searchForm.service.$invalid && !searchForm.service.$pristine }">
          <label class="col-xs-2 control-label text-right">Service*</label>
						<span class=col-sm-2>
							<select class=form-control name=service ng-model=service required ng-options="service.DESCRIZIONE for service in services"></select>
						</span>
        </div>
      </div>

      <div class="row form-group">
        
        <label class="col-xs-2 control-label text-right">Field:</label>
						<span class=col-sm-2>
              <select class=form-control name=field ng-model=field ng-options="field.DESCRIZIONE for field in fields"></select>
            </span>

        <div ng-class="{ 'has-error' : (searchForm.priceto.$invalid && !searchForm.priceto.$pristine) ||
          (searchForm.pricefrom.$invalid && !searchForm.pricefrom.$pristine)}">
          <label class="col-xs-2 control-label text-right">Price Range (â‚¬/KTR)</label>
        </div>

        <div ng-class="{ 'has-error' : searchForm.pricefrom.$invalid && !searchForm.pricefrom.$pristine }">
        <span class=col-sm-1>
          <input name=pricefrom ng-model=pricefrom class=form-control ng-pattern="/^[0-9]+$/" ng-model="pricefrom">
        </span>
        </div>

        <div ng-class="{ 'has-error' : searchForm.priceto.$invalid && !searchForm.priceto.$pristine }">
          <span class=col-sm-1>
            <input name=priceto ng-model=priceto class="form-control col-sm-2" ng-pattern="/^[0-9]+$/" ng-model="priceto">
          </span>
        </div>
      </div>
    </div>
    <button type=hidden autofocus>
    <div class=text-center style=margin:40px>
      <button ng-click=doResetForm() class="btn btn-lg btn-default btn-sm">
        <i class="fa fa-times"> RESET
      </button>
      <button ng-click=doSearch() class="btn btn-lg btn-default btn-sm" ng-disabled=searchForm.$invalid>
        <i class="fa fa-eraser"> SEARCH
      </button>
    </div>
  </form>

  

  <div class=row_shadow>
    <div ng-if="searchResult == NULL" class="alert alert-warning" role=alert>No jobs found</div>
    <div ng-if="searchResult != NULL">
      <table id=searchResultTable class="table table-condensed sortable">
        <thead>
        <tr>

          <th>#
          <th>
          <th>
            <a ng-click="orderByField='NOME'; reverseSort = !reverseSort">
              Name
              <span ng-show="orderByField == 'NOME'">
              <span ng-show=!reverseSort><i class="fa fa-sort-asc"></i></span>
                <span ng-show=reverseSort><i class="fa fa-sort-desc"></i></span>
              </span>
            </a>
          

          <th>
            <a ng-click="orderByField='RATING/(NUM_RATING+1)'; reverseSort = !reverseSort">
              Rating
              <span ng-show="orderByField == 'RATING/(NUM_RATING+1)'">
                <span ng-show=!reverseSort><i class="fa fa-sort-asc"></i></span>
                <span ng-show=reverseSort><i class="fa fa-sort-desc"></i></span>
              </span>
            </a>
          
          <th>
            <a ng-click="orderByField='NUM_COMMENTI'; reverseSort = !reverseSort">
              # Comments
              <span ng-show="orderByField == 'NUM_COMMENTI'">
                <span ng-show=!reverseSort><i class="fa fa-sort-asc"></i></span>
                <span ng-show=reverseSort><i class="fa fa-sort-desc"></i></span>
              </span>
            </a>
          
          <th>
            <a ng-click="orderByField='PRICE'; reverseSort = !reverseSort">
              Price per KTR
              <span ng-show="orderByField == 'PRICE'">
                <span ng-show=!reverseSort><i class="fa fa-sort-asc"></i></span>
                <span ng-show=reverseSort><i class="fa fa-sort-desc"></i></span>
              </span>
            </a>
          
          <th>
            <a ng-click="orderByField='TOT_CORR_TRAD'; reverseSort = !reverseSort">
              # Collaborations
              <span ng-show="orderByField == 'TOT_CORR_TRAD'">
                <span ng-show=!reverseSort><i class="fa fa-sort-asc"></i></span>
                <span ng-show=reverseSort><i class="fa fa-sort-desc"></i></span>
              </span>
            </a>
          
        
        
        <tbody>
        <tr ng-repeat="item in searchResult|orderBy:orderByField:reverseSort">
          <td><input type=checkbox name=indexSelected ng-model=indexSelected>
          <td>
            <img style="border-radius: 5px" width=80 height=80 ng-src="data:image/jpeg;base64,{{item.image}}">
          
          <td>
            <a class=tooltipUI style=color:#FFF href=#demo2_tip onmouseover="tooltip.pop(this, '#demo2_tip',
            {position:1, offsetX:-20, effect:'slide'})"><em>{{item.NOME}} {{item.COGNOME}}</em></a>

            <div style=display:none>
              <div id=demo2_tip style="width: 300px">
                <div class=text-left>
                  <img style="border-radius: 5px;margin:0px 10px 10px 0px" width=100 height=100 ng-src="data:image/jpeg;base64,{{item.image}}">
                  <b>{{item.NOME}} {{item.COGNOME}}</b><br>
                  Birthday: <i> {{item.DATA_NASCITA}}</i><br>
                  From: <i>{{item.PAESE}}</i><br>
                  Mothertongue: <i> {{item.MADRELINGUA}}</i><br>
                  Know languages: <i>{{item.NUM_LANGUAGES}}</i><br>
                  Certifications: <i>{{item.NUM_CERTIFICATIONS}}</i><br>
                </div>
              </div>
            </div>
          
          <td><span style="pointer-events: none;float:left" id=div_rating class=star-rating star-rating rating-value=item.RATING/item.NUM_RATING data-max=5></span>
          <td><i class="fa fa-lg fa-comments-o"></i>&nbsp;&nbsp;&nbsp;{{item.NUM_COMMENTI}}
          <td>{{item.PRICE}} {{item.CURRENCY}}
          <td>{{item.TOT_CORR_TRAD!='0' ? 'other ' + item.TOT_CORR_TRAD + ' collaborations' : ''}}
        
        
      </table>
    </div>
  </div>
</div>